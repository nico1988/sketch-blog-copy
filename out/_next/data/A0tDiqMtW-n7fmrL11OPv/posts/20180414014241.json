{"pageProps":{"post":{"fileName":"2018-04-13_mongodb导入导出数据.md","id":"2018-04-13_mongodb导入导出数据","permalink":"20180414014241","tags":["mongodb"],"title":"mongodb导入导出数据","date":"2018-04-14T01:42:41+08:00","categories":["笔记"],"cover":null,"pageview":334,"contentHtml":"<h3>mongodb数据备份与恢复</h3>\n<h4>备份</h4>\n<pre class=\"hljs\"><code>mongodump -h <dbhost> -d <dbname> -o <dbdirectory>\n// 示例\nmongodump -h localhost -d test -o /home/data\n</code></pre>\n<ul>\n<li>-h 服务器地址 如: 127.0.0.1 也可以指定端口号: 127.0.0.1:27017</li>\n<li>-d 需要备份的数据库名 如: test</li>\n<li>-o 存放的目录 如: /home/data mongodb会自动在/home/data下创建一个test目录，里面存放备份数据</li>\n</ul>\n<h4>恢复</h4>\n<pre class=\"hljs\"><code>mongorestore -h <dbhost> -d <dbname> <path>\n// 示例\nmongorestore -h localhost -d test /home/data/user.json\n</code></pre>\n<ul>\n<li>-h 服务器地址 如: 127.0.0.1 也可以指定端口号: 127.0.0.1:27017</li>\n<li>-d 需要恢复的数据库名 如: test</li>\n<li>&lt; path &gt; 指定恢复数据的数据源目录位置 如: /home/data/test</li>\n</ul>\n<h4>导出单张数据表</h4>\n<pre class=\"hljs\"><code>mongoexport -h <dbhost> -d <dbname> -c <collectionname> -o <file> -f <field>\n// 示例\nmongoexport -h localhost -d test -c user -o /home/data/user.json\n</code></pre>\n<ul>\n<li>-h 服务器地址 如: 127.0.0.1 也可以指定端口号: 127.0.0.1:27017</li>\n<li>-d 需要导出的数据库名 如: test</li>\n<li>-c 需要导出的数据表名 如: user</li>\n<li>-o 导出的数据文件名 如: /home/data/user.json(文件支持多种格式，如txt,wps,xls等)</li>\n<li>-f 导出数据输出的字段 如: “_id, username, password”</li>\n</ul>\n<h4>导入单张数据表</h4>\n<pre class=\"hljs\"><code>mongoimport -h <dbhost> -d <dbname> -c <collectionname> <file>\n// 示例\nmongoimport -h localhost -d test -c user /home/data/user.json\n</code></pre>\n<ul>\n<li>-h 服务器地址 如: 127.0.0.1 也可以指定端口号: 127.0.0.1:27017</li>\n<li>-d 需要导入的数据库名 如: test</li>\n<li>-c 需要导入的数据表名 如: user</li>\n<li>&lt; file &gt; 需要导入的数据文件地址</li>\n</ul>\n"}},"__N_SSG":true}