{"pageProps":{"post":{"fileName":"2017-09-04_mongodb开启用户权限.md","id":"2017-09-04_mongodb开启用户权限","permalink":"20170905040813","tags":["mongodb"],"title":"mongodb开启用户权限","date":"2017-09-05T04:08:13+08:00","categories":["笔记"],"cover":null,"pageview":611,"contentHtml":"<h3>1. 开始mongodb安全认证</h3>\n<p>编辑 <code>/usr/local/src/mongodb/mongodb.conf</code> 取消 <code>#auth = true</code>前面的’#‘</p>\n<h3>2. 添加管理员账号</h3>\n<pre class=\"hljs\"><code>use admin\n\ndb.createUser({\n    user: 'admin',\n    pwd: 'admin',\n    roles: [{\n        role: 'userAdminAnyDatabase',\n        db: 'admin'\n    }]\n})\n</code></pre>\n<h3>3. 选中admin数据库认证</h3>\n<pre class=\"hljs\"><code>use admin\n\ndb.auth('admin', 'admin')\n</code></pre>\n<h3>4. 添加指定数据库的账号(这里为test)</h3>\n<pre class=\"hljs\"><code>use test\n\ndb.createUser({\n    user: 'test',\n    pwd: 'test',\n    roles: [{\n        role: 'readWrite',\n        db: 'test'\n    }]\n})\n</code></pre>\n<h3>5. 选中指定数据库认证</h3>\n<pre class=\"hljs\"><code>use test\n\ndb.auth('test', 'test')\n\nshow collections\n</code></pre>\n"}},"__N_SSG":true}