{"pageProps":{"post":{"fileName":"2018-11-20_CentOS7防火墙firewalld相关配置 .md","id":"2018-11-20_CentOS7防火墙firewalld相关配置 ","permalink":"20181120235245","tags":["centos"],"title":"CentOS7防火墙firewalld相关配置","date":"2018-11-20T23:52:45+08:00","categories":["笔记"],"cover":"https://cloud.miiiku.xyz/src/images/cover/cover-08.jpg","pageview":120,"contentHtml":"<h3>1.firewalld的基本使用</h3>\n<h6>启动：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">systemctl start firewalld\n</code></pre>\n<h6>关闭：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">systemctl stop firewalld\n</code></pre>\n<h6>重启：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">systemctl restart firewalld\n</code></pre>\n<h6>查看状态：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">systemctl status firewalld\n</code></pre>\n<h6>开机禁用：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">systemctl <span class=\"hljs-built_in\">disable</span> firewalld\n</code></pre>\n<h6>开机启用：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">systemctl <span class=\"hljs-built_in\">enable</span> firewalld\n</code></pre>\n<h3>2.firewalld-cmd的一些命令</h3>\n<h6>查看版本：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --version\n</code></pre>\n<h6>查看帮助：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --<span class=\"hljs-built_in\">help</span>\n</code></pre>\n<h6>显示状态：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --state\n</code></pre>\n<h6>查看所有打开的端口：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --zone=public --list-ports\n</code></pre>\n<h6>更新防火墙规则：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --reload\n</code></pre>\n<h6>查看区域信息:</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --get-active-zones\n</code></pre>\n<h6>查看指定接口所属区域：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --get-zone-of-interface=eth0\n</code></pre>\n<h6>拒绝所有包：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --panic-on\n</code></pre>\n<h6>取消拒绝状态：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --panic-off\n</code></pre>\n<h6>查看是否拒绝：</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --query-panic\n</code></pre>\n<h6>查看某个端口是否开启</h6>\n<pre class=\"hljs\"><code>firewall-cmd --zone= public --query-port=[端口]/[协议]\n// 如\nfirewall-cmd --zone= public --query-port=80/tcp\n</code></pre>\n<h6>开放一个端口</h6>\n<pre class=\"hljs language-bash\"><code class=\"language-bash\">firewall-cmd --zone=public --add-port=[端口]/[协议] --permanent （--permanent永久生效，没有此参数重启后失效）\n// 如\nfirewall-cmd --zone=public --add-port=80/tcp --permanent\n</code></pre>\n<p>如果不想使用命令行，修改*/etc/firewalld/zones/public.xml*文件，把端口写进入，如:</p>\n<pre class=\"hljs\"><code><port protocol=\"tcp\" port=\"8888\">\n</code></pre>\n<h6>关闭一个端口</h6>\n<pre class=\"hljs\"><code>firewall-cmd --zone= public --remove-port=[端口]/[协议] --permanent （--permanent永久生效，没有此参数重启后失效）\n// 如\nfirewall-cmd --zone= public --remove-port=80/tcp --permanent\n</code></pre>\n<p>如果不想用命令行，跟添加同理，修改*/etc/firewalld/zones/public.xml*文件。</p>\n<p>在添加或关闭一个端口以后，不要忘了重新加载</p>\n<h6>重新加载</h6>\n<pre class=\"hljs\"><code>firewall-cmd --reload\n</code></pre>\n<p>因为在CentOS7以后，默认使用firewalld防火墙，所以在网上收集一些常用指令做整理记录，信息来源于网络！</p>\n<p>以上。</p>\n"}},"__N_SSG":true}